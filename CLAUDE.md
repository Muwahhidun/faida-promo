# CLAUDE.md

Этот файл предоставляет руководство для Claude Code (claude.ai/code) при работе с кодом в этом репозитории.

## Обзор проекта

Одностраничный промо-сайт для акции FAIDA GROUP «Шанс попасть на святые земли с Выше гор и Оптовик №1», где участники могут выиграть наушники AirPods 4. Сайт развернут с использованием Docker и nginx на порту 1991.

**Контекст проекта**: Русскоязычная рекламная кампания, требующая от участников публикации видео в статусе WhatsApp и отправки доказательств количества просмотров.

## Команды для разработки

### Запуск сайта

**Рекомендуется**: Использование Docker Compose
```bash
docker-compose up -d
```
Сайт будет доступен по адресу: `http://localhost:1991`

**Альтернатива**: Использование Docker напрямую
```bash
docker build -t faida-promo-site .
docker run -d -p 1991:1991 --name faida-promo faida-promo-site
```

**Для локальной разработки**: Просто откройте [index.html](index.html) в браузере.

### Перезапуск после изменений

```bash
docker-compose restart
```

### Остановка сайта

```bash
docker-compose down
```

### Просмотр логов

```bash
docker-compose logs -f
```

## Архитектура

### Структура файлов

- **[index.html](index.html)** - Одностраничное приложение, весь контент в одном файле
- **[css/style.css](css/style.css)** - Все стили с CSS custom properties для темизации
- **[js/main.js](js/main.js)** - Клиентская интерактивность (анимации при скролле, обработка видео)
- **[assets/](assets/)** - Статические ресурсы:
  - `videos/main.mp4` - Основное видео для WhatsApp статуса
  - `videos/promo.mp4` - Промо-видео о текущей акции
  - `videos/instruction step 1.mp4` - Инструкция: создание статуса
  - `videos/instruction step 2.mp4` - Инструкция: фиксация просмотров
  - `images/logo.svg` - Логотип FAIDA GROUP
  - `images/airpods4.png` - Изображение приза
  - `images/pattern.svg` - SVG паттерн для фонов
  - `images/video-poster.jpg` - Постер для видео
  - `images/tutorial-poster.jpg` - Постер для инструкций
- **[nginx.conf](nginx.conf)** - Кастомная конфигурация nginx для порта 1991
- **[Dockerfile](Dockerfile)** - Контейнер на базе nginx:alpine
- **[docker-compose.yml](docker-compose.yml)** - Оркестрация с монтированием томов для ассетов
- **[brandbook.md](brandbook.md)** - Цветовая палитра бренда (RGB, Hex, HSB, CMYK значения)

### Система дизайна

Цветовая схема определена в [brandbook.md](brandbook.md):
- **Основной**: `#F2C56D` (золотистый) - используется для заголовков, акцентов, CTA
- **Дополнительный**: `#D8AE64` (темнее золотистый) - используется для градиентов
- **Темный фон**: `#0E1A3A` (темно-синий) - основной фон
- **Фон секций**: `#162956` (светлее синий) - фон секций
- **Фон карточек**: `#223355` - фон интерактивных карточек

Типографика: шрифт Montserrat (веса: 400, 500, 600, 700)

### Архитектура CSS

Все стили используют CSS custom properties (`:root` в [css/style.css](css/style.css:2-12)) для удобной темизации. На сайте используется:
- **Фиксированная шапка** с логотипом (z-index: 1000)
- **SVG паттерн** (`pattern.svg`) для визуальной текстуры с наложением rgba(14, 26, 58, 0.85)
- **Градиентные оверлеи** для глубины визуальной иерархии
- **Адаптивные брейкпоинты**:
  - `max-width: 768px` - планшеты (см. [css/style.css](css/style.css:475-529))
  - `max-width: 480px` - мобильные устройства (см. [css/style.css](css/style.css:531-568))
- **Intersection Observer API** для анимаций при скролле (см. [js/main.js](js/main.js:35-57))

### Секции страницы (по порядку)

1. **Header** - Фиксированная навигация с логотипом FAIDA GROUP
2. **Hero** - Промо-видео о текущей акции, главный заголовок и изображение AirPods 4
3. **Секция основного видео** - Видео для скачивания и публикации в WhatsApp
4. **Секция инструкций** - Двухэтапное руководство (создание статуса, съемка просмотров)
5. **Детали акции** - Правила конкурса и информация о финальном розыгрыше
6. **Footer** - Информация об авторских правах

### Ключевые технические детали

- **Порт**: 1991 (нестандартный, указан в требованиях)
- **Форматы видео**: HTML5 video с источниками MP4 (MOV упоминается в README, но в HTML используется MP4)
- **Оптимизации nginx**: Сжатие Gzip, кэширование статических файлов (1 год), HTML без кэша
- **Заголовки безопасности**: X-Frame-Options, CSP, XSS-Protection настроены в [nginx.conf](nginx.conf)
- **Адаптивность**: Mobile-first дизайн с flexbox/grid раскладками

### Функциональность JavaScript

[js/main.js](js/main.js) обрабатывает:
- **Кнопка скачивания видео** (строки 3-13): Скачивание `main.mp4` при клике на кнопку "Скачать видео для статуса"
- **Плавная прокрутка** (строки 15-27): Для всех якорных ссылок с href="#"
- **Intersection Observer** (строки 29-51): Анимация появления элементов при скролле
  - Наблюдает за `.condition-item`, `.contact-item`, `.video-container`
  - Начальное состояние: `opacity: 0`, `transform: translateY(20px)`
  - Переход: `opacity 0.6s ease, transform 0.6s ease`
- **Автопереход между видео инструкций** (строки 53-70): Автоматическая прокрутка и воспроизведение видео "Шаг 2" после окончания видео "Шаг 1"

## Важные заметки

- Это **статический сайт** - нет бэкенда, баз данных или процесса сборки
- Нет package.json или npm зависимостей
- **Видео файлы**: Все видео присутствуют в `assets/videos/` (main.mp4, promo.mp4, instruction step 1.mp4, instruction step 2.mp4)
- **Монтирование томов**: Ассеты монтируются как read-only том в Docker (см. [docker-compose.yml](docker-compose.yml:16))
- Весь текстовый контент захардкожен на русском языке в [index.html](index.html)
- **Google Fonts**: Подключен шрифт Montserrat через CDN (см. [index.html](index.html:14-16))
- **Favicon**: Присутствует в `assets/images/favicon.png` (см. [index.html](index.html:10-11))

## При внесении изменений

1. **Изменения HTML**: Редактируйте [index.html](index.html) напрямую, перезапустите контейнер
2. **Изменения стилей**: Редактируйте [css/style.css](css/style.css), используйте CSS переменные когда возможно
3. **Интерактивные функции**: Редактируйте [js/main.js](js/main.js)
4. **Замена видео**: Поместите `.mp4` файлы в `assets/videos/`, обновите пути в [index.html](index.html)
5. **Корректировка цветовой схемы**: Обновите CSS переменные в [css/style.css](css/style.css:2-12) на основе [brandbook.md](brandbook.md)

## Локальное тестирование

Шаг сборки не требуется. Для быстрого тестирования без Docker:
1. Откройте [index.html](index.html) в любом современном браузере
2. Видео/изображения могут не загружаться корректно из-за относительных путей без сервера
3. Используйте Docker для точного тестирования продакшн-поведения

## Устранение неполадок

**Порт 1991 занят:**
```bash
# Windows
netstat -ano | findstr :1991
taskkill /PID <PID> /F

# Linux/Mac
lsof -i :1991
kill -9 <PID>
```

**Контейнер не запускается:**
```bash
docker-compose down
docker-compose up -d --build
```

**Видео не воспроизводятся:**
- Проверьте наличие файлов в `assets/videos/`
- Убедитесь, что том смонтирован корректно (проверьте `docker-compose logs`)
